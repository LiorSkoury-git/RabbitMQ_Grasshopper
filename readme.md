[![DaRUS DOI](https://img.shields.io/badge/DaRUS%20DOI-10.18419/darus--4193-orange?style=flat&logo=data:image/png;base64,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)](https://doi.org/10.18419/darus-4193)

# RABBITMQ GH
## INTRODUCTION
RabbitMQ GH is a Grasshopper plugin for implementing RabbitMQ messaging capabilities to exchange data between external applications and Grasshopper scripts in real time, with a high degree of flexibility and scalability.

## TABLE OF CONTENTS
- [Installation](#installation)
- [Use patterns](#use-patterns)

## INSTALLATION
### Erlang installation
Download the current [Erlang](https://erlang.org/download/otp_versions_tree.html) version installer and follow the default setup in the installation wizard.

Add Erlang to the Environment variables. To do it, go to
*Control Panel>System and Security>System*. A new window will open. Click on *Advanced system settings* under the *Device specifications* collapsable panel. When the *System Properties* window appears, click on the *Environment Variables* button at the bottom of the *Advanced* tab.

On the *User variables* section use the *New...* button to add a new variable with **ERLANG_HOME** as the *Variable name* and the installation path as the *variable value* (By default the installation path should be *C:\Program Files\Erlang OTP*).

To verify that the variable was correctly added, open a command prompt and enter the ```ECHO %ERLANG_HOME%``` command. If the installation path is printed on the screen, the variable is correctly added.

### RabbitMQ installation
On RabbitMQ´s [GitHub page](https://github.com/rabbitmq/rabbitmq-server/) go to the *Releases* section on the right-hand side of the window. Click on the latest release and navigate to the *assets* section and download the *rabbitmq-server-windows-\<version>.zip* file, where\<version> corresponds to the latest release version number. Extract the compressed files to the directory where you want RabbitMQ to be stored.

To run RabbitMQ, open a terminal window and go to the installation directory. Once there, run the ```rabbitmq-server.bat``` command. The current Erlang version and the plugins being used should be printed on the screen.

In Windows, RabbitMQ does not run on startup by default. To change that, the Startup type of the RabbitMQ Server must be set to *Automatic*

If the plugins are not working properly, follow the same procedure described in the following section to activate them.

### Management plugin activation
To activate the management plugin, open a terminal window and go to the installation directory. After that, run the ```rabbitmq-plugins enable rabbitmq_management``` command. This should enable the plugin and it should be working the next time RabbitMQ is launched. The same command works for activating other plugins by replacing *rabbitmq_management* with the plugin's name after it has been downloaded into the plugin's directory located on RabbitMQ's installation directory.

For further information, follow this [link](https://youtube.com/playlist?list=PLalrWAGybpB-UHbRDhFsBgXJM1g6T4IvO&si=324s3u0WqtVukrIl).

### Grasshopper plugin installation
Download the [plugin files]() and copy them into your Grasshopper component folder. If you don´t know the location of this folder on your computer, you can find it using Grasshopper's interface. Go to *File>Special Folders>Components Folder* and a file explorer window will open in the correct directory.

In general, downloaded *.gha* files can be blocked by Windows OS, so verify that all the downloaded files are unblocked. To do so, find each file in the file explorer and right-click on it. In the context menu select *Properties*. This will open a new window. Go to the lower part of the *general* tab and check the checkbox labeled *Unblock*.

For the use of the plugin, even after closing the *.gh* files, the connections created in the session will remain open if the *Run* toggle is set to ```True```. To prevent this, make sure to set the toggle to ```False``` before closing the file.

### Additional resources
* [Linux machine deployment](https://gcore.com/learning/how-to-install-rabbitmq-ubuntu/)
* [AWS deployment](https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/working-with-rabbitmq.html)

## MANAGEMENT PLUGIN
To open the management plugin, in your web browser navigate to ```localhost:15672``` If no credentials have been established, use ```guest``` as the default *username* and *password* to log in.

## USE PATTERNS
Example files covering several use patterns for Grasshopper, Python, and C# are located in the [Examples folder](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples). 

Most of them build on top of the consumer-producer pattern. It has two main components: A producer that sends messages to a RabbitMQ queue and a consumer that receives the messages from the queue and processes them.

These are all the patterns covered in the example files with a detailed explanation in [this](Examples/readme.md) file:

- [Basic consumer](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Basic_consumer)
- [Competing consumers](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Competing_consumers)
- [Publisher-subscriber](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Publisher_subscriber)
- [Request-reply](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Request_reply)
- [Basic routing](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Basic_routing)
- [Topic routing](https://github.com/LiorSkoury-git/RabbitMQ_Grasshopper/tree/Documentation/Tutorial/Examples/Topic_routing)
